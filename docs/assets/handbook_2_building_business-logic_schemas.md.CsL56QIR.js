import{_ as a,c as e,o as i,ag as n}from"./chunks/framework.U_AETC1W.js";const k=JSON.parse('{"title":"Schemas & Validation","description":"Schemas and validation in PURISTA","frontmatter":{"order":200020,"title":"Schemas & Validation","description":"Schemas and validation in PURISTA","image":"/graphic/builder.png"},"headers":[],"relativePath":"handbook/2_building_business-logic/schemas.md","filePath":"handbook/2_building_business-logic/schemas.md","lastUpdated":1739467938000}'),t={name:"handbook/2_building_business-logic/schemas.md"};function l(p,s,h,r,o,d){return i(),e("div",null,s[0]||(s[0]=[n(`<h1 id="schemas-and-validation-in-purista" tabindex="-1">Schemas and Validation in PURISTA <a class="header-anchor" href="#schemas-and-validation-in-purista" aria-label="Permalink to &quot;Schemas and Validation in PURISTA&quot;">​</a></h1><p>PURISTA heavily utilizes schemas for various purposes. Schemas play a crucial role in validation, TypeScript type generation, and the creation of other structures such as OpenAPI definitions.</p><p>While PURISTA offers support for a wide range of schema libraries, particularly thanks to <a href="https://typeschema.com/#coverage" target="_blank" rel="noreferrer">Typeschema.com</a>, it is strongly recommended to utilize <a href="https://zod.dev/" target="_blank" rel="noreferrer">Zod</a> as the primary schema library. This recommendation is due to the extensive ecosystem surrounding Zod, which enables the implementation of advanced features like OpenAPI schema generation.</p><p>It&#39;s important to note that only Zod schemas will receive first-class support within PURISTA.</p><p>Additionally, we provide a helper function called <code>extendApi</code> for Zod schemas, which enables the implementation of various advanced features.</p><p>For example:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { extendApi } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@purista/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mySchema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extendApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  z.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    example: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">extendApi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(z.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;An example property&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        example: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;example value&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }), </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Some description&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    example: { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;example&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span></code></pre></div><p>This schema not only includes raw validation and type information but also encompasses descriptions and example values. We leverage these values to enhance the OpenAPI documentation and other automated documentation processes. Moreover, new developers will find helpful explanations and examples directly within the source code.</p><h2 id="other-libraries" tabindex="-1">Other libraries <a class="header-anchor" href="#other-libraries" aria-label="Permalink to &quot;Other libraries&quot;">​</a></h2><p>If you have the need to use other schema and validation libraries, you will need to install some additional dependencies.<br> Please have a look at the official documentation of <a href="https://typeschema.com/#coverage" target="_blank" rel="noreferrer">TypeSchema.com</a> to find the adapter package.</p><p>In addition to the TypeSchema adapter, you might need additional packages as well, to convert the validation schema into <a href="https://json-schema.org" target="_blank" rel="noreferrer">JSON Schema</a>.</p><p>Internally, PURISTA is using OpenAPI 3.1/JSON Schema to share interfaces between services.<br> As an example, the HTTP server is using the input schema definitions of services, provided in as OpenAPI 3.1/JSON schema.</p><p>As an example, to use <a href="https://yup.dev" target="_blank" rel="noreferrer">Yup</a> schema, you will need to add:</p><ul><li><code>yup</code> itself</li><li><code>@typeschema/yup</code></li><li><code>@sodaru/yup-to-json-schema</code></li></ul>`,14)]))}const m=a(t,[["render",l]]);export{k as __pageData,m as default};
