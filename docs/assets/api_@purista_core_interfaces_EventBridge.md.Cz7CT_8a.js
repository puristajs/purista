import{_ as o,c as r,o as t,ag as a}from"./chunks/framework.U_AETC1W.js";const h=JSON.parse('{"title":"Interface: EventBridge","description":"","frontmatter":{},"headers":[],"relativePath":"api/@purista/core/interfaces/EventBridge.md","filePath":"api/@purista/core/interfaces/EventBridge.md","lastUpdated":1739900666000}'),d={name:"api/@purista/core/interfaces/EventBridge.md"};function c(s,e,i,n,l,p){return t(),r("div",null,e[0]||(e[0]=[a('<p><a href="./../README.html"><strong>@purista/core v1.11.0</strong></a></p><hr><p><a href="./../../../packages.html">PURISTA API</a> / <a href="./../README.html">@purista/core</a> / EventBridge</p><h1 id="interface-eventbridge" tabindex="-1">Interface: EventBridge <a class="header-anchor" href="#interface-eventbridge" aria-label="Permalink to &quot;Interface: EventBridge&quot;">​</a></h1><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L19" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:19</a></p><p>Event bridge interface The event bridge must implement this interface.</p><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><h3 id="defaultcommandtimeout" tabindex="-1">defaultCommandTimeout <a class="header-anchor" href="#defaultcommandtimeout" aria-label="Permalink to &quot;defaultCommandTimeout&quot;">​</a></h3><blockquote><p><code>readonly</code> <strong>defaultCommandTimeout</strong>: <code>number</code></p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L26" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:26</a></p><p>The default time until when a command invocation automatically returns a time out error</p><hr><h3 id="instanceid" tabindex="-1">instanceId <a class="header-anchor" href="#instanceid" aria-label="Permalink to &quot;instanceId&quot;">​</a></h3><blockquote><p><code>readonly</code> <strong>instanceId</strong>: <code>string</code></p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L22" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:22</a></p><hr><h3 id="name" tabindex="-1">name <a class="header-anchor" href="#name" aria-label="Permalink to &quot;name&quot;">​</a></h3><blockquote><p><code>readonly</code> <strong>name</strong>: <code>string</code></p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L20" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:20</a></p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h2><h3 id="destroy" tabindex="-1">destroy() <a class="header-anchor" href="#destroy" aria-label="Permalink to &quot;destroy()&quot;">​</a></h3><blockquote><p><strong>destroy</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L99" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:99</a></p><p>Shut down event bridge as gracefully as possible</p><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="emitmessage" tabindex="-1">emitMessage() <a class="header-anchor" href="#emitmessage" aria-label="Permalink to &quot;emitMessage()&quot;">​</a></h3><blockquote><p><strong>emitMessage</strong>(<code>message</code>): <code>Promise</code>&lt;<code>Readonly</code>&lt;<a href="./../type-aliases/EBMessage.html"><code>EBMessage</code></a>&gt;&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L37" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:37</a></p><p>Emit a message to the eventbridge without awaiting a result</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><h5 id="message" tabindex="-1">message <a class="header-anchor" href="#message" aria-label="Permalink to &quot;message&quot;">​</a></h5><p><code>Omit</code>&lt;<a href="./../type-aliases/EBMessage.html"><code>EBMessage</code></a>, <code>&quot;correlationId&quot;</code> | <code>&quot;id&quot;</code> | <code>&quot;timestamp&quot;</code>&gt;</p><p>the message</p><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>Readonly</code>&lt;<a href="./../type-aliases/EBMessage.html"><code>EBMessage</code></a>&gt;&gt;</p><hr><h3 id="invoke" tabindex="-1">invoke() <a class="header-anchor" href="#invoke" aria-label="Permalink to &quot;invoke()&quot;">​</a></h3><blockquote><p><strong>invoke</strong>&lt;<code>T</code>&gt;(<code>input</code>, <code>ttl</code>?): <code>Promise</code>&lt;<code>T</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L46" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:46</a></p><p>Call a command of a service and return the result of this command</p><h4 id="type-parameters" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters" aria-label="Permalink to &quot;Type Parameters&quot;">​</a></h4><p>• <strong>T</strong></p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><h5 id="input" tabindex="-1">input <a class="header-anchor" href="#input" aria-label="Permalink to &quot;input&quot;">​</a></h5><p><code>Omit</code>&lt;{ <code>contentEncoding</code>: <code>string</code>; <code>contentType</code>: <code>string</code>; <code>correlationId</code>: <code>string</code>; <code>eventName</code>: <code>string</code>; <code>id</code>: <code>string</code>; <code>messageType</code>: <a href="./../enumerations/EBMessageType.html#command"><code>Command</code></a>; <code>otp</code>: <code>string</code>; <code>payload</code>: { <code>parameter</code>: <code>unknown</code>; <code>payload</code>: <code>unknown</code>; }; <code>principalId</code>: <code>string</code>; <code>receiver</code>: <a href="./../type-aliases/EBMessageAddress.html"><code>EBMessageAddress</code></a>; <code>sender</code>: { <code>instanceId</code>: <code>string</code>; <code>serviceName</code>: <code>string</code>; <code>serviceTarget</code>: <code>string</code>; <code>serviceVersion</code>: <code>string</code>; }; <code>tenantId</code>: <code>string</code>; <code>timestamp</code>: <code>number</code>; <code>traceId</code>: <code>string</code>; }, <code>&quot;messageType&quot;</code> | <code>&quot;correlationId&quot;</code> | <code>&quot;id&quot;</code> | <code>&quot;timestamp&quot;</code>&gt;</p><p>a partial command message</p><h5 id="ttl" tabindex="-1">ttl? <a class="header-anchor" href="#ttl" aria-label="Permalink to &quot;ttl?&quot;">​</a></h5><p><code>number</code></p><p>the time to live (timeout) of the invocation</p><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>T</code>&gt;</p><hr><h3 id="ishealthy" tabindex="-1">isHealthy() <a class="header-anchor" href="#ishealthy" aria-label="Permalink to &quot;isHealthy()&quot;">​</a></h3><blockquote><p><strong>isHealthy</strong>(): <code>Promise</code>&lt;<code>boolean</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L94" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:94</a></p><p>Indicates if the eventbridge is running and works correctly</p><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>boolean</code>&gt;</p><hr><h3 id="isready" tabindex="-1">isReady() <a class="header-anchor" href="#isready" aria-label="Permalink to &quot;isReady()&quot;">​</a></h3><blockquote><p><strong>isReady</strong>(): <code>Promise</code>&lt;<code>boolean</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L89" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:89</a></p><p>Indicates if the eventbridge has been started and is connected to underlaying message broker</p><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>boolean</code>&gt;</p><hr><h3 id="registercommand" tabindex="-1">registerCommand() <a class="header-anchor" href="#registercommand" aria-label="Permalink to &quot;registerCommand()&quot;">​</a></h3><blockquote><p><strong>registerCommand</strong>(<code>address</code>, <code>cb</code>, <code>metadata</code>, <code>eventBridgeConfig</code>): <code>Promise</code>&lt;<code>string</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L53" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:53</a></p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><h5 id="address" tabindex="-1">address <a class="header-anchor" href="#address" aria-label="Permalink to &quot;address&quot;">​</a></h5><p><a href="./../type-aliases/EBMessageAddress.html"><code>EBMessageAddress</code></a></p><p>the address of the service command (service name, version and command name)</p><h5 id="cb" tabindex="-1">cb <a class="header-anchor" href="#cb" aria-label="Permalink to &quot;cb&quot;">​</a></h5><p>(<code>message</code>) =&gt; <code>Promise</code>&lt;<code>Readonly</code>&lt;<code>Omit</code>&lt;{ <code>contentEncoding</code>: <code>&quot;utf-8&quot;</code>; <code>contentType</code>: <code>&quot;application/json&quot;</code>; <code>correlationId</code>: <code>string</code>; <code>eventName</code>: <code>string</code>; <code>id</code>: <code>string</code>; <code>isHandledError</code>: <code>boolean</code>; <code>messageType</code>: <a href="./../enumerations/EBMessageType.html#commanderrorresponse"><code>CommandErrorResponse</code></a>; <code>otp</code>: <code>string</code>; <code>payload</code>: { <code>data</code>: <code>unknown</code>; <code>message</code>: <code>string</code>; <code>status</code>: <a href="./../enumerations/StatusCode.html"><code>StatusCode</code></a>; }; <code>principalId</code>: <code>string</code>; <code>receiver</code>: { <code>instanceId</code>: <code>string</code>; <code>serviceName</code>: <code>string</code>; <code>serviceTarget</code>: <code>string</code>; <code>serviceVersion</code>: <code>string</code>; }; <code>sender</code>: { <code>instanceId</code>: <code>string</code>; <code>serviceName</code>: <code>string</code>; <code>serviceTarget</code>: <code>string</code>; <code>serviceVersion</code>: <code>string</code>; }; <code>tenantId</code>: <code>string</code>; <code>timestamp</code>: <code>number</code>; <code>traceId</code>: <code>string</code>; }, <code>&quot;instanceId&quot;</code>&gt;&gt; | <code>Readonly</code>&lt;<code>Omit</code>&lt;{ <code>contentEncoding</code>: <code>string</code>; <code>contentType</code>: <code>string</code>; <code>correlationId</code>: <code>string</code>; <code>eventName</code>: <code>string</code>; <code>id</code>: <code>string</code>; <code>messageType</code>: <a href="./../enumerations/EBMessageType.html#commandsuccessresponse"><code>CommandSuccessResponse</code></a>; <code>otp</code>: <code>string</code>; <code>payload</code>: <code>unknown</code>; <code>principalId</code>: <code>string</code>; <code>receiver</code>: { <code>instanceId</code>: <code>string</code>; <code>serviceName</code>: <code>string</code>; <code>serviceTarget</code>: <code>string</code>; <code>serviceVersion</code>: <code>string</code>; }; <code>sender</code>: { <code>instanceId</code>: <code>string</code>; <code>serviceName</code>: <code>string</code>; <code>serviceTarget</code>: <code>string</code>; <code>serviceVersion</code>: <code>string</code>; }; <code>tenantId</code>: <code>string</code>; <code>timestamp</code>: <code>number</code>; <code>traceId</code>: <code>string</code>; }, <code>&quot;instanceId&quot;</code>&gt;&gt;&gt;</p><p>the function to be called if a matching command arrives</p><h5 id="metadata" tabindex="-1">metadata <a class="header-anchor" href="#metadata" aria-label="Permalink to &quot;metadata&quot;">​</a></h5><p><a href="./../type-aliases/CommandDefinitionMetadataBase.html"><code>CommandDefinitionMetadataBase</code></a></p><h5 id="eventbridgeconfig" tabindex="-1">eventBridgeConfig <a class="header-anchor" href="#eventbridgeconfig" aria-label="Permalink to &quot;eventBridgeConfig&quot;">​</a></h5><p><a href="./../type-aliases/DefinitionEventBridgeConfig.html"><code>DefinitionEventBridgeConfig</code></a></p><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>string</code>&gt;</p><hr><h3 id="registersubscription" tabindex="-1">registerSubscription() <a class="header-anchor" href="#registersubscription" aria-label="Permalink to &quot;registerSubscription()&quot;">​</a></h3><blockquote><p><strong>registerSubscription</strong>(<code>subscription</code>, <code>cb</code>): <code>Promise</code>&lt;<code>string</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L75" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:75</a></p><p>Register a new subscription</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><h5 id="subscription" tabindex="-1">subscription <a class="header-anchor" href="#subscription" aria-label="Permalink to &quot;subscription&quot;">​</a></h5><p><a href="./../type-aliases/Subscription.html"><code>Subscription</code></a></p><p>the subscription definition</p><h5 id="cb-1" tabindex="-1">cb <a class="header-anchor" href="#cb-1" aria-label="Permalink to &quot;cb&quot;">​</a></h5><p>(<code>message</code>) =&gt; <code>Promise</code>&lt;<code>undefined</code> | <code>Omit</code>&lt;{ <code>contentEncoding</code>: <code>string</code>; <code>contentType</code>: <code>string</code>; <code>correlationId</code>: <code>string</code>; <code>eventName</code>: <code>string</code>; <code>id</code>: <code>string</code>; <code>messageType</code>: <a href="./../enumerations/EBMessageType.html#custommessage"><code>CustomMessage</code></a>; <code>otp</code>: <code>string</code>; <code>payload</code>: <code>unknown</code>; <code>principalId</code>: <code>string</code>; <code>receiver</code>: <a href="./../type-aliases/EBMessageAddress.html"><code>EBMessageAddress</code></a>; <code>sender</code>: { <code>instanceId</code>: <code>string</code>; <code>serviceName</code>: <code>string</code>; <code>serviceTarget</code>: <code>string</code>; <code>serviceVersion</code>: <code>string</code>; }; <code>tenantId</code>: <code>string</code>; <code>timestamp</code>: <code>number</code>; <code>traceId</code>: <code>string</code>; }, <code>&quot;id&quot;</code> | <code>&quot;timestamp&quot;</code>&gt;&gt;</p><p>the function to be called if a matching message arrives</p><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>string</code>&gt;</p><hr><h3 id="start" tabindex="-1">start() <a class="header-anchor" href="#start" aria-label="Permalink to &quot;start()&quot;">​</a></h3><blockquote><p><strong>start</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L31" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:31</a></p><p>Start the eventbridge and connect to the underlaying message broker</p><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="unregistercommand" tabindex="-1">unregisterCommand() <a class="header-anchor" href="#unregistercommand" aria-label="Permalink to &quot;unregisterCommand()&quot;">​</a></h3><blockquote><p><strong>unregisterCommand</strong>(<code>address</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L68" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:68</a></p><p>Unregister a service command</p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><h5 id="address-1" tabindex="-1">address <a class="header-anchor" href="#address-1" aria-label="Permalink to &quot;address&quot;">​</a></h5><p><a href="./../type-aliases/EBMessageAddress.html"><code>EBMessageAddress</code></a></p><p>The address (service name, version and command name) of the command to be de-registered</p><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="unregistersubscription" tabindex="-1">unregisterSubscription() <a class="header-anchor" href="#unregistersubscription" aria-label="Permalink to &quot;unregisterSubscription()&quot;">​</a></h3><blockquote><p><strong>unregisterSubscription</strong>(<code>address</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Defined in: <a href="https://github.com/puristajs/purista/blob/master/packages/core/src/core/EventBridge/types/EventBridge.ts#L84" target="_blank" rel="noreferrer">packages/core/src/core/EventBridge/types/EventBridge.ts:84</a></p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><h5 id="address-2" tabindex="-1">address <a class="header-anchor" href="#address-2" aria-label="Permalink to &quot;address&quot;">​</a></h5><p><a href="./../type-aliases/EBMessageAddress.html"><code>EBMessageAddress</code></a></p><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p>',125)]))}const u=o(d,[["render",c]]);export{h as __pageData,u as default};
