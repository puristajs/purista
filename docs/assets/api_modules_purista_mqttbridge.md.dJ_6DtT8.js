import{_ as e,c as t,o as a,V as o}from"./chunks/framework.ITQiifkM.js";const u=JSON.parse('{"title":"Module: @purista/mqttbridge","description":"","frontmatter":{},"headers":[],"relativePath":"api/modules/purista_mqttbridge.md","filePath":"api/modules/purista_mqttbridge.md","lastUpdated":1708505616000}'),d={name:"api/modules/purista_mqttbridge.md"},r=o(`<p><a href="./../README.html">PURISTA API</a> / <a href="./../modules.html">Modules</a> / @purista/mqttbridge</p><h1 id="module-purista-mqttbridge" tabindex="-1">Module: @purista/mqttbridge <a class="header-anchor" href="#module-purista-mqttbridge" aria-label="Permalink to &quot;Module: @purista/mqttbridge&quot;">​</a></h1><p>Package for using a MQTT broker like rabbitMQ as event bridge.</p><p>Example usage:</p><p><strong><code>Example</code></strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { MqttBridge } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@purista/mqttbridge&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// create and init our eventbridge</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventBridge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MqttBridge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventBridge.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of contents&quot;">​</a></h2><h3 id="classes" tabindex="-1">Classes <a class="header-anchor" href="#classes" aria-label="Permalink to &quot;Classes&quot;">​</a></h3><ul><li><a href="./../classes/purista_mqttbridge.MqttBridge.html">MqttBridge</a></li><li><a href="./../classes/purista_mqttbridge.TopicRouter.html">TopicRouter</a></li></ul><h3 id="type-aliases" tabindex="-1">Type Aliases <a class="header-anchor" href="#type-aliases" aria-label="Permalink to &quot;Type Aliases&quot;">​</a></h3><ul><li><a href="./purista_mqttbridge.html#incomingmessagefunction">IncomingMessageFunction</a></li><li><a href="./purista_mqttbridge.html#mqttbridgeconfig">MqttBridgeConfig</a></li></ul><h3 id="variables" tabindex="-1">Variables <a class="header-anchor" href="#variables" aria-label="Permalink to &quot;Variables&quot;">​</a></h3><ul><li><a href="./purista_mqttbridge.html#puristaversion">puristaVersion</a></li></ul><h3 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-label="Permalink to &quot;Functions&quot;">​</a></h3><ul><li><a href="./purista_mqttbridge.html#getcommandhandler">getCommandHandler</a></li><li><a href="./purista_mqttbridge.html#getcommandresponsesubscriptiontopic">getCommandResponseSubscriptionTopic</a></li><li><a href="./purista_mqttbridge.html#getcommandsubscriptiontopic">getCommandSubscriptionTopic</a></li><li><a href="./purista_mqttbridge.html#getdefaultmqttbridgeconfig">getDefaultMqttBridgeConfig</a></li><li><a href="./purista_mqttbridge.html#getsharedtopicname">getSharedTopicName</a></li><li><a href="./purista_mqttbridge.html#getsubscriptionhandler">getSubscriptionHandler</a></li><li><a href="./purista_mqttbridge.html#getsubscriptiontopic">getSubscriptionTopic</a></li><li><a href="./purista_mqttbridge.html#gettopicname">getTopicName</a></li><li><a href="./purista_mqttbridge.html#handlecommandresponse">handleCommandResponse</a></li><li><a href="./purista_mqttbridge.html#ismatchingtopic">isMatchingTopic</a></li><li><a href="./purista_mqttbridge.html#mstosec">msToSec</a></li></ul><h2 id="type-aliases-1" tabindex="-1">Type Aliases <a class="header-anchor" href="#type-aliases-1" aria-label="Permalink to &quot;Type Aliases&quot;">​</a></h2><h3 id="incomingmessagefunction" tabindex="-1">IncomingMessageFunction <a class="header-anchor" href="#incomingmessagefunction" aria-label="Permalink to &quot;IncomingMessageFunction&quot;">​</a></h3><p>Ƭ <strong>IncomingMessageFunction</strong>: (<code>this</code>: <a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a>, <code>payload</code>: <a href="./purista_core.html#ebmessage"><code>EBMessage</code></a>, <code>packet</code>: <code>IPublishPacket</code>) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</p><h4 id="type-declaration" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>this</code>, <code>payload</code>, <code>packet</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p><h5 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td></tr><tr><td style="text-align:left;"><code>payload</code></td><td style="text-align:left;"><a href="./purista_core.html#ebmessage"><code>EBMessage</code></a></td></tr><tr><td style="text-align:left;"><code>packet</code></td><td style="text-align:left;"><code>IPublishPacket</code></td></tr></tbody></table><h5 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>Promise</code>&lt;<code>void</code>&gt;</p><h4 id="defined-in" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/types/IncomingMessageFunction.ts#L6" target="_blank" rel="noreferrer">mqttbridge/src/types/IncomingMessageFunction.ts:6</a></p><hr><h3 id="mqttbridgeconfig" tabindex="-1">MqttBridgeConfig <a class="header-anchor" href="#mqttbridgeconfig" aria-label="Permalink to &quot;MqttBridgeConfig&quot;">​</a></h3><p>Ƭ <strong>MqttBridgeConfig</strong>: <a href="./purista_core.html#prettify"><code>Prettify</code></a>&lt;{ <code>allowRetries?</code>: <code>boolean</code> ; <code>defaultMessageExpiryInterval</code>: <code>number</code> ; <code>defaultSessionExpiryInterval</code>: <code>number</code> ; <code>emptyTopicPartString</code>: <code>string</code> ; <code>qoSSubscription</code>: <code>QoS</code> ; <code>qosCommand</code>: <code>QoS</code> ; <code>shareTopicName</code>: <code>string</code> ; <code>shareTopicPrefix</code>: <code>string</code> ; <code>topicPrefix</code>: <code>string</code> } &amp; <code>IClientOptions</code>&gt;</p><p>the configuration for the MQTT event bridge</p><h4 id="defined-in-1" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-1" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/types/MqttBridgeConfig.ts#L8" target="_blank" rel="noreferrer">mqttbridge/src/types/MqttBridgeConfig.ts:8</a></p><h2 id="variables-1" tabindex="-1">Variables <a class="header-anchor" href="#variables-1" aria-label="Permalink to &quot;Variables&quot;">​</a></h2><h3 id="puristaversion" tabindex="-1">puristaVersion <a class="header-anchor" href="#puristaversion" aria-label="Permalink to &quot;puristaVersion&quot;">​</a></h3><p>• <code>Const</code> <strong>puristaVersion</strong>: <code>&quot;1.10.8&quot;</code></p><h4 id="defined-in-2" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-2" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/version.ts#L1" target="_blank" rel="noreferrer">mqttbridge/src/version.ts:1</a></p><h2 id="functions-1" tabindex="-1">Functions <a class="header-anchor" href="#functions-1" aria-label="Permalink to &quot;Functions&quot;">​</a></h2><h3 id="getcommandhandler" tabindex="-1">getCommandHandler <a class="header-anchor" href="#getcommandhandler" aria-label="Permalink to &quot;getCommandHandler&quot;">​</a></h3><p>▸ <strong>getCommandHandler</strong>(<code>address</code>, <code>cb</code>, <code>_metadata</code>, <code>_eventBridgeConfig</code>): <a href="./purista_mqttbridge.html#incomingmessagefunction"><code>IncomingMessageFunction</code></a></p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>address</code></td><td style="text-align:left;"><a href="./purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a></td></tr><tr><td style="text-align:left;"><code>cb</code></td><td style="text-align:left;">(<code>message</code>: { <code>contentEncoding</code>: <code>string</code> ; <code>contentType</code>: <code>string</code> ; <code>correlationId</code>: <code>string</code> ; <code>eventName?</code>: <code>string</code> ; <code>id</code>: <code>string</code> ; <code>messageType</code>: <a href="./../enums/purista_core.EBMessageType.html#command"><code>Command</code></a> ; <code>otp?</code>: <code>string</code> ; <code>payload</code>: { <code>parameter</code>: <code>unknown</code> ; <code>payload</code>: <code>unknown</code> } ; <code>principalId?</code>: <code>string</code> ; <code>receiver</code>: <a href="./purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a> ; <code>sender</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>tenantId?</code>: <code>string</code> ; <code>timestamp</code>: <code>number</code> ; <code>traceId?</code>: <code>string</code> }) =&gt; <code>Promise</code>&lt;{ <code>contentEncoding</code>: <code>&quot;utf-8&quot;</code> ; <code>contentType</code>: <code>&quot;application/json&quot;</code> ; <code>correlationId</code>: <code>string</code> ; <code>eventName?</code>: <code>string</code> ; <code>id</code>: <code>string</code> ; <code>isHandledError</code>: <code>boolean</code> ; <code>messageType</code>: <a href="./../enums/purista_core.EBMessageType.html#commanderrorresponse"><code>CommandErrorResponse</code></a> ; <code>otp?</code>: <code>string</code> ; <code>payload</code>: { <code>data?</code>: <code>unknown</code> ; <code>message</code>: <code>string</code> ; <code>status</code>: <a href="./../enums/purista_core.StatusCode.html"><code>StatusCode</code></a> } ; <code>principalId?</code>: <code>string</code> ; <code>receiver</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>sender</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>tenantId?</code>: <code>string</code> ; <code>timestamp</code>: <code>number</code> ; <code>traceId?</code>: <code>string</code> } | { <code>contentEncoding</code>: <code>string</code> ; <code>contentType</code>: <code>string</code> ; <code>correlationId</code>: <code>string</code> ; <code>eventName?</code>: <code>string</code> ; <code>id</code>: <code>string</code> ; <code>messageType</code>: <a href="./../enums/purista_core.EBMessageType.html#commandsuccessresponse"><code>CommandSuccessResponse</code></a> ; <code>otp?</code>: <code>string</code> ; <code>payload</code>: <code>unknown</code> ; <code>principalId?</code>: <code>string</code> ; <code>receiver</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>sender</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>tenantId?</code>: <code>string</code> ; <code>timestamp</code>: <code>number</code> ; <code>traceId?</code>: <code>string</code> }&gt;</td></tr><tr><td style="text-align:left;"><code>_metadata</code></td><td style="text-align:left;"><a href="./purista_core.html#commanddefinitionmetadatabase"><code>CommandDefinitionMetadataBase</code></a></td></tr><tr><td style="text-align:left;"><code>_eventBridgeConfig</code></td><td style="text-align:left;"><a href="./purista_core.html#definitioneventbridgeconfig"><code>DefinitionEventBridgeConfig</code></a></td></tr></tbody></table><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_mqttbridge.html#incomingmessagefunction"><code>IncomingMessageFunction</code></a></p><h4 id="defined-in-3" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-3" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/handler/getCommandHandler.impl.ts#L29" target="_blank" rel="noreferrer">mqttbridge/src/handler/getCommandHandler.impl.ts:29</a></p><hr><h3 id="getcommandresponsesubscriptiontopic" tabindex="-1">getCommandResponseSubscriptionTopic <a class="header-anchor" href="#getcommandresponsesubscriptiontopic" aria-label="Permalink to &quot;getCommandResponseSubscriptionTopic&quot;">​</a></h3><p>▸ <strong>getCommandResponseSubscriptionTopic</strong>(<code>this</code>): <code>string</code></p><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td></tr></tbody></table><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-4" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-4" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/topic/getCommandResponseSubscriptionTopic.impl.ts#L8" target="_blank" rel="noreferrer">mqttbridge/src/topic/getCommandResponseSubscriptionTopic.impl.ts:8</a></p><hr><h3 id="getcommandsubscriptiontopic" tabindex="-1">getCommandSubscriptionTopic <a class="header-anchor" href="#getcommandsubscriptiontopic" aria-label="Permalink to &quot;getCommandSubscriptionTopic&quot;">​</a></h3><p>▸ <strong>getCommandSubscriptionTopic</strong>(<code>this</code>, <code>address</code>): <code>string</code></p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td></tr><tr><td style="text-align:left;"><code>address</code></td><td style="text-align:left;"><a href="./purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a></td></tr></tbody></table><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-5" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-5" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/topic/getCommandSubscriptionTopic.impl.ts#L10" target="_blank" rel="noreferrer">mqttbridge/src/topic/getCommandSubscriptionTopic.impl.ts:10</a></p><hr><h3 id="getdefaultmqttbridgeconfig" tabindex="-1">getDefaultMqttBridgeConfig <a class="header-anchor" href="#getdefaultmqttbridgeconfig" aria-label="Permalink to &quot;getDefaultMqttBridgeConfig&quot;">​</a></h3><p>▸ <strong>getDefaultMqttBridgeConfig</strong>(): <code>Object</code></p><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Object</code></p><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>allowRetries?</code></td><td style="text-align:left;"><code>boolean</code></td><td style="text-align:left;">allow retry of the initial connect</td></tr><tr><td style="text-align:left;"><code>defaultMessageExpiryInterval</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">the message expiry interval in seconds <strong><code>Default</code></strong> <code>ts </code></td></tr><tr><td style="text-align:left;"><code>defaultSessionExpiryInterval</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;"><strong><code>Default</code></strong> <code>ts 0 </code></td></tr><tr><td style="text-align:left;"><code>emptyTopicPartString</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">The string which should be used in topics for parts, which are undefined <strong><code>Default</code></strong> <code>ts __none__ </code></td></tr><tr><td style="text-align:left;"><code>qoSSubscription</code></td><td style="text-align:left;"><code>QoS</code></td><td style="text-align:left;">QOS for all subscriptions <strong><code>Default</code></strong> <code>ts 1 </code></td></tr><tr><td style="text-align:left;"><code>qosCommand</code></td><td style="text-align:left;"><code>QoS</code></td><td style="text-align:left;">QOS for command, command responses and command response subscriptions messages <strong><code>Default</code></strong> <code>ts 1 </code></td></tr><tr><td style="text-align:left;"><code>shareTopicName</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the name of the shared topic (similar to pubsub name) <strong><code>Default</code></strong> <code>ts sharedpurista </code></td></tr><tr><td style="text-align:left;"><code>shareTopicPrefix</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the prefix to be used to dynamically create topic names for shared subscriptions <strong><code>Default</code></strong> <code>ts $share </code></td></tr><tr><td style="text-align:left;"><code>topicPrefix</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the prefix for topic to prevent name collisions <strong><code>Default</code></strong> <code>ts purista </code></td></tr></tbody></table><h4 id="defined-in-6" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-6" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/getDefaultMqttBridgeConfig.impl.ts#L5" target="_blank" rel="noreferrer">mqttbridge/src/getDefaultMqttBridgeConfig.impl.ts:5</a></p><hr><h3 id="getsharedtopicname" tabindex="-1">getSharedTopicName <a class="header-anchor" href="#getsharedtopicname" aria-label="Permalink to &quot;getSharedTopicName&quot;">​</a></h3><p>▸ <strong>getSharedTopicName</strong>(<code>this</code>, <code>topic</code>): <code>string</code></p><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td></tr><tr><td style="text-align:left;"><code>topic</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-7" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-7" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/topic/getSharedTopicName.impl.ts#L7" target="_blank" rel="noreferrer">mqttbridge/src/topic/getSharedTopicName.impl.ts:7</a></p><hr><h3 id="getsubscriptionhandler" tabindex="-1">getSubscriptionHandler <a class="header-anchor" href="#getsubscriptionhandler" aria-label="Permalink to &quot;getSubscriptionHandler&quot;">​</a></h3><p>▸ <strong>getSubscriptionHandler</strong>(<code>_subscription</code>, <code>cb</code>): <a href="./purista_mqttbridge.html#incomingmessagefunction"><code>IncomingMessageFunction</code></a></p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>_subscription</code></td><td style="text-align:left;"><a href="./purista_core.html#subscription"><code>Subscription</code></a></td></tr><tr><td style="text-align:left;"><code>cb</code></td><td style="text-align:left;">(<code>message</code>: <a href="./purista_core.html#ebmessage"><code>EBMessage</code></a>) =&gt; <code>Promise</code>&lt;<code>undefined</code> | <code>Omit</code>&lt;{ <code>contentEncoding</code>: <code>string</code> ; <code>contentType</code>: <code>string</code> ; <code>correlationId?</code>: <code>string</code> ; <code>eventName</code>: <code>string</code> ; <code>id</code>: <code>string</code> ; <code>messageType</code>: <a href="./../enums/purista_core.EBMessageType.html#custommessage"><code>CustomMessage</code></a> ; <code>otp?</code>: <code>string</code> ; <code>payload?</code>: <code>unknown</code> ; <code>principalId?</code>: <code>string</code> ; <code>receiver?</code>: <a href="./purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a> ; <code>sender</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>tenantId?</code>: <code>string</code> ; <code>timestamp</code>: <code>number</code> ; <code>traceId?</code>: <code>string</code> }, <code>&quot;id&quot;</code> | <code>&quot;timestamp&quot;</code>&gt;&gt;</td></tr></tbody></table><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_mqttbridge.html#incomingmessagefunction"><code>IncomingMessageFunction</code></a></p><h4 id="defined-in-8" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-8" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/handler/getSubscriptionHandler.impl.ts#L18" target="_blank" rel="noreferrer">mqttbridge/src/handler/getSubscriptionHandler.impl.ts:18</a></p><hr><h3 id="getsubscriptiontopic" tabindex="-1">getSubscriptionTopic <a class="header-anchor" href="#getsubscriptiontopic" aria-label="Permalink to &quot;getSubscriptionTopic&quot;">​</a></h3><p>▸ <strong>getSubscriptionTopic</strong>(<code>this</code>, <code>subscription</code>): <code>string</code></p><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td></tr><tr><td style="text-align:left;"><code>subscription</code></td><td style="text-align:left;"><a href="./purista_core.html#subscription"><code>Subscription</code></a></td></tr></tbody></table><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><h4 id="defined-in-9" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-9" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/topic/getSubscriptionTopic.impl.ts#L10" target="_blank" rel="noreferrer">mqttbridge/src/topic/getSubscriptionTopic.impl.ts:10</a></p><hr><h3 id="gettopicname" tabindex="-1">getTopicName <a class="header-anchor" href="#gettopicname" aria-label="Permalink to &quot;getTopicName&quot;">​</a></h3><p>▸ <strong>getTopicName</strong>(<code>this</code>, <code>message</code>): <code>string</code></p><p>Calculates the MQTT topic name for a message which should be sent. Something like: purista/ message_type/ principal_id/ sender_instance_id/ sender_name/ sender_version/ sender_target/ eventname/ sender_instance_id/ receiver_name/ receiver_version/ receiver_target</p><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>message</code></td><td style="text-align:left;"><a href="./purista_core.html#ebmessage"><code>EBMessage</code></a></td><td style="text-align:left;">the message to send</td></tr></tbody></table><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>string</code></p><p>the MQTT topic</p><h4 id="defined-in-10" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-10" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/topic/getTopicName.impl.ts#L31" target="_blank" rel="noreferrer">mqttbridge/src/topic/getTopicName.impl.ts:31</a></p><hr><h3 id="handlecommandresponse" tabindex="-1">handleCommandResponse <a class="header-anchor" href="#handlecommandresponse" aria-label="Permalink to &quot;handleCommandResponse&quot;">​</a></h3><p>▸ <strong>handleCommandResponse</strong>(<code>this</code>, <code>payload</code>, <code>packet</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>this</code></td><td style="text-align:left;"><a href="./../classes/purista_mqttbridge.MqttBridge.html"><code>MqttBridge</code></a></td></tr><tr><td style="text-align:left;"><code>payload</code></td><td style="text-align:left;"><a href="./purista_core.html#ebmessage"><code>EBMessage</code></a></td></tr><tr><td style="text-align:left;"><code>packet</code></td><td style="text-align:left;"><code>IPublishPacket</code></td></tr></tbody></table><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><h4 id="defined-in-11" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-11" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/handler/handleCommandResponse.impl.ts#L16" target="_blank" rel="noreferrer">mqttbridge/src/handler/handleCommandResponse.impl.ts:16</a></p><hr><h3 id="ismatchingtopic" tabindex="-1">isMatchingTopic <a class="header-anchor" href="#ismatchingtopic" aria-label="Permalink to &quot;isMatchingTopic&quot;">​</a></h3><p>▸ <strong>isMatchingTopic</strong>(<code>input</code>, <code>pattern</code>): <code>boolean</code></p><p>Checks if a given topic is matching against a subscription pattern</p><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>input</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the real full topic</td></tr><tr><td style="text-align:left;"><code>pattern</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the topic subscription pattern</td></tr></tbody></table><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>boolean</code></p><h4 id="defined-in-12" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-12" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/topic/isMatchingTopic.impl.ts#L8" target="_blank" rel="noreferrer">mqttbridge/src/topic/isMatchingTopic.impl.ts:8</a></p><hr><h3 id="mstosec" tabindex="-1">msToSec <a class="header-anchor" href="#mstosec" aria-label="Permalink to &quot;msToSec&quot;">​</a></h3><p>▸ <strong>msToSec</strong>(<code>ms</code>): <code>number</code></p><p>Convert milliseconds into seconds and round decimal to integer if needed.</p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ms</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">Value in millisconads</td></tr></tbody></table><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>number</code></p><p>rounded value in seconds</p><h4 id="defined-in-13" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-13" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/mqttbridge/src/msToSec.impl.ts#L7" target="_blank" rel="noreferrer">mqttbridge/src/msToSec.impl.ts:7</a></p>`,140),i=[r];function s(c,n,l,h,g,p){return a(),t("div",null,i)}const b=e(d,[["render",s]]);export{u as __pageData,b as default};
